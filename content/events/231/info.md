---
title: "جلسه ۲۳۱"
date: 2017-03-09T00:00:00+04:30
layout: event
type: event
eventNumber: 231
eventDate: 1395-12-19
startTime: 14:30
endTime: 18:00
address: "خیابان کارگر شمالی، بالاتر از بزرگراه جلال آل‌احمد، پردیس دانشکده‌های فنّی دانشگاه تهران، دانشکدهٔ مهندسی نفت، طبقهٔ ۵"
registerLink: https://evand.com/events/tehlug231
speakers: [وحید اشرفیان, سید محمد مسعود صدرنژاد]
topics: [DevOps, مهندسی نرم‌افزار]
lat: 35.726110
lng: 51.384858
locations: [آواتک]
---
جلسهٔ ۲۳۱ گروه کاربران گنو/لینوکس تهران در روز پنج‌شنبه، ۱۹ اسفند ماه از ساعت ۱۴:۳۰ الی ۱۸ در محل شتاب‌دهنده آواتک به نشانی «خیابان کارگر شمالی، بالاتر از بزرگراه جلال آل احمد، پردیس دانشکده‌های فنّی دانشگاه تهران، دانشکدهٔ مهندسی نفت، طبقهٔ ۵» برگزار خواهد شد. شرکت در این رویداد همانند ۲۳۰ جلسه گذشته برای کلیه علاقه‌مندان، آزاد و رایگان می‌باشد.

> توجه داشته باشید که ساعت برگزاری و زمان‌بندی ارائه‌ها به دلیل فشردگی برنامه‌ها در محل برگزاری، متفاوت از گذشته و به شرحی که در ذیل آمده است خواهد بود.

در این جلسه نیز همانند جلسه‌‌های پیشین، در کنار ارائه‌های فنّی، کارگاهی جداگانه با موضوع آشنایی با مفاهیم نرم‌افزار آزاد و نصب و استفاده از سیستم‌عامل گنو/لینوکس خواهیم داشت که توسّط گروهی از کاربران، برگزار خواهد شد (آوردن لپ‌تاپ جهت رفع مشکل یا راهنمائی پیشنهاد می‌گردد).

از ساعت ۱۴:۳۰ الی ۱۵:۳۰ ارائه گروه کاربران پایتون تهران با موضوع هوش مصنوعی عمومی و نقش پایتون در آن (Artificial General Intelligence and the role of Python) توسّط آقای کیوان میرمحمد صادقی خواهد بود.

از ساعت ۱۵:۳۰ الی ۱۸ جلسه گروه کاربران لینوکس تهران با برنامه‌های زیر:  
ارائهٔ فنّی اول گروه کاربران لینوکس تهران از ساعت ۱۵:۳۰ الی ۱۶:۱۵ توسّط آقای وحید اشرفیان با موضوع The Story of DevOps انجام خواهد گردید. این ارائه شامل دو قسمت اصلی است که به ارائه خلاصه تجربیات فردی آقای اشرفیان در شرکت پیچک در زمینه DevOps برمی‌گردد، به عنوان یک case study و در جهت معرفی مفاهیم و ابزارهای DevOps و همین‌طور قسمت دیگر ارائه مختصری از مفاهیم کلی DevOps می‌باشد.  
[اسلاید](/events/presentations/231/the_story_of_devops.pptx)  
[اسلاید pdf](/events/presentations/231/the_story_of_devops.pdf)

توضیحات وحید اشرفیان در میلینگ لیست:  
سلام

برای ارائه من در جلسه 231م لاگ اسلایدهای ارائه و همینطور دو کتابی که معرفی کرده بودم رو از اینجا میتونید دانلود کنید:  
https://www.dropbox.com/sh/dy5to35pxf4i57x/AAAG193vAMmr9q76Lnetxvz5a?dl=0

یه course  توی edx در مورد DevOps هست که مرجع اصلی من بود از این لینک میتونید رایگان ثبت نام کنید:  
https://www.edx.org/course/introduction-devops-transforming-linuxfoundationx-lfs161x

مجموعه سخنرانی هایی هم که در موردش صحبت شد به همراه یه سری سخنرانی خوب دیگه توی یه playlist یوتیوب جمع کردم:  
https://www.youtube.com/playlist?list=PLOw-K6HoPAvxU39zL4ki4YmBR-r5ihSKV

پیشنهاد شد در مورد مشکلاتی که با بعضی سیستمها داشتیم یه توضیح بدم که اینجا چند موردش رو میگم:

مشکل با docker  
ما از docker حدود 2 سال پیش استفاده میکردیم و هنوز به ورژن یک نرسیده بود. پس تا جایی که من چک کرده اکثرا مشکلات برطرف شده. اون موقع هم از ubuntu server 14.04 احتمالا با کرنل 3.13 استفاده میکردیم.  
مشکل اصلی ما با docker برای زمانی بود که به ازای upgradeی که روی سرویسها زده میشد و نیاز بود چندین container ساخته بشه گاهی docker daemon به مشکلی میخورد و zombie process میشد و docker cli هم کلا دیگه response نمیداد و مجبود میشدیم که سرور رو reset کنیم.

مشکل بعدی docker ضعیف بودن docker api برای مدیریت network بود که امکان تغییر port یه container رو در زمانی که run هست نمیداد.که فکر میکنم این هم الان خیلی بهتر شده

مشکل با Juju  
http://jujucharms.com/  
مشکل اصلی Juju این هست که ارتباط بین Juju master که node مدیریتی هست، با Juju Agentهایی که روی سرورها نصب شدند شدیدا chatty هست. این مشکل در تمامی ورژنهای 1 در Juju هست. ولی جدیدا ورژن 2 هم stable شده. البته با معماری که Juju داره من امیدوار نیستم که وضعیت بهتر بشه.  
این مشکل وقتی مشخص میشه که تعداد سروهای شما زیاد بشه، معمولا بالا 100 سرور اگه برسید احتمالا احتیاج دارید یه سرور خیلی بزرگ فقط بذارید برای juju master چون کلی CPU و Network مصرف میکنه. البته این رو هم بگم که نحوه استفاده از Juju هم خیلی موثر هست، مثلا اگه از Juju تماما برای مدیریت سرویسهاتون در AWS EC2 استفاده بکنید احتمالا مشکلی نخواهید داشت، چون مخصوصا وقتی همه سرورها در یک datacenter هستند و latancy بین Juju Master و Agentها کم هست، مشکلی زیاد پیش نمیاد.  
البته مشکلی دیگه ای هم داشتیم، گاهی وقتی که خود Juju Master به هر دلیل kill بشه یا کلا سرور reset بشه دفعه بعد که سرور بیاد بالا ممکنه طوری state دیتابیس بهم بخوره که کلا همه چیز رو از دست بدید! گرچه یه سری fixها براش وجود داره، ولی بیشتر نشان دهنده غیرقابل اعتماد بودن Juju هست.

مشکل با LXC  
گرچه توصیه میشه اگر میخواید سراع containerها برید docker و Kubernetes گزینه های مناسبتری هستند، ولی ما دو سال پیش که با docker به مشکل خوردیم از LXC استفاده کردیم، گرچه تمام اون کارها رو الان هم با LXD احتمالا بهتر میشه انجام داد. ولی یه مشکل با LXC داشتیم که احتمالا یه bug  توی کرنل لینوکس هست که فکر نمیکنم هنوز هم برطرف شده باشه (ما تا ورزن 4.4. کرنل هم این مشکل رو داشتیم)، مشکل وقتی هست که سرور load خیلی بالایی داره مخصوصا از طرف network و شما نیاز هست که یه container جدید بسازید. توی این حالت ممکنه بعضی processهای مربوط به LXC کلا zombie بشه. یه گزارش این bug رو اینجا میتونید ببینید:  
https://lists.linuxcontainers.org/pipermail/lxc-users/2016-January/010816.html  
و احتمالا به این bug کرنل مرتبط هست:  
https://bugzilla.kernel.org/show_bug.cgi?id=97811

ممنون  
وحید اشرفیان



از ساعت ۱۶:۱۵ الی ۱۶:۴۵ به پذیرایی و گفتگوی کاربران در لابی آواتک اختصاص دارد.

ارائهٔ فنّی دوم گروه کاربران لینوکس تهران از ساعت ۱۶:۴۵ الی ۱۸ توسّط آقای مسعود صدرنژاد با موضوع نشانه‌های کد بد (bad smell) و الگوهای بازآرایی کد (refactoring) انجام خواهد گردید.